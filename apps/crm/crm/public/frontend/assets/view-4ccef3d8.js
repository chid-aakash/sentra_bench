import{K as ie,f as o,c,d as r,l as M,a as ce,I as Z,e as P,a4 as H,a5 as Q,t as S,b as s,q as $,a1 as de,u as a,au as _e,g as u,p as v,w as i,_ as z,j as ue,z as pe,k as me,n as ve,av as fe,m as W,i as ge,aa as he,a7 as be,ab as ke,E as xe,J as Ce,F as U,r as K,a8 as X,a6 as Y,y as ee,aw as we,am as q}from"./index-77a1adb3.js";import{u as $e,f as T,g as Se,b as Ve}from"./modals-6b779b18.js";import{a as Le,b as Be,L as Fe,G as Ie,K as De}from"./FadedScrollableDiv-3bd2f113.js";import{E as R,D as te,a as Me,b as Ne,i as Oe,_ as ae,d as Pe,e as je}from"./DragVerticalIcon-56a1fcba.js";import{A as Ue}from"./ArrowUpRightIcon-8e3aac11.js";import{n as oe,b as ze,u as Ee,p as le,_ as ne,q as se,r as G}from"./index-1be1092b.js";const Te={},Re={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ae(d,k){return o(),c("svg",Re,k[0]||(k[0]=[r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM11.2909 5.98482C11.4666 5.77175 11.4363 5.45663 11.2232 5.28096C11.0101 5.1053 10.695 5.13561 10.5193 5.34868L7.07001 9.53239L5.72845 7.79857C5.55946 7.58018 5.24543 7.54012 5.02703 7.70911C4.80863 7.8781 4.76858 8.19214 4.93756 8.41053L6.66217 10.6394C6.7552 10.7596 6.89788 10.831 7.04988 10.8334C7.20188 10.8357 7.3467 10.7688 7.4434 10.6515L11.2909 5.98482Z",fill:"currentColor"},null,-1)]))}const Je=ie(Te,[["render",Ae]]),Ke={class:"group flex w-full items-center justify-between rounded bg-transparent p-1 pl-2 text-base text-ink-gray-8 transition-colors hover:bg-surface-gray-3 active:bg-surface-gray-4"},qe={class:"flex flex-1 items-center justify-between gap-7"},Ge={class:"actions flex items-center justify-center"},Ze={key:0},He={__name:"DropdownItem",props:{option:{type:Object,default:()=>{}}},setup(d){const k=d,p=M(!1),x=M(!1),h=M(null);ce(()=>{var f;(f=k.option)!=null&&f.value||(p.value=!0,x.value=!0,Z(()=>h.value.el.focus()))});const L=()=>{p.value=!p.value,p.value&&Z(()=>h.value.el.focus())},C=f=>{f.target.value&&(L(),k.option.onSave(k.option,x.value),x.value=!1)};return(f,b)=>{const g=P("Button"),t=P("FeatherIcon");return o(),c("div",Ke,[r("div",qe,[H(r("div",null,S(d.option.value),513),[[Q,!p.value]]),H(s(a(_e),{ref_key:"inputRef",ref:h,modelValue:d.option.value,"onUpdate:modelValue":b[0]||(b[0]=B=>d.option.value=B),class:"w-full",placeholder:d.option.placeholder,onBlur:$(C,["stop"]),onKeydown:b[1]||(b[1]=de($(B=>B.target.blur(),["stop"]),["enter"]))},null,8,["modelValue","placeholder"]),[[Q,p.value]]),r("div",Ge,[p.value?(o(),u(g,{key:0,variant:"ghost",label:f.__("Save"),size:"sm",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:C},null,8,["label"])):v("",!0),!x.value&&!d.option.selected?(o(),u(a(z),{key:1,text:"Set As Primary"},{default:i(()=>[r("div",null,[s(g,{variant:"ghost",size:"sm",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:d.option.onClick},{icon:i(()=>[s(Je)]),_:1},8,["onClick"])])]),_:1})):v("",!0),p.value?v("",!0):(o(),u(a(z),{key:2,text:"Edit"},{default:i(()=>[r("div",null,[s(g,{variant:"ghost",size:"sm",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:L},{icon:i(()=>[s(R)]),_:1})])]),_:1})),s(a(z),{text:"Delete"},{default:i(()=>[r("div",null,[s(g,{variant:"ghost",icon:"x",size:"sm",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:b[2]||(b[2]=()=>d.option.onDelete(d.option,x.value))})])]),_:1})])]),d.option.selected?(o(),c("div",Ze,[s(t,{name:"check",class:"text-ink-gray-5 h-4 w-6",size:"sm"})])):v("",!0)])}}},Qe={class:"flex flex-col gap-3"},We={class:"flex items-center justify-between rounded px-2.5 py-2 bg-surface-gray-2"},Xe=["onClick"],Ye={key:0},et={key:1,class:"flex gap-2 items-center"},tt={class:"flex gap-1 items-center"},at={class:"px-2.5 py-2 border border-outline-gray-modals rounded text-base leading-4 text-ink-gray-8 flex items-center justify-between gap-2"},ot={class:"flex items-center gap-2"},lt={class:"flex flex-col gap-1 text-ink-gray-9"},nt={class:"text-ink-gray-4 text-sm"},st={key:1,class:"flex justify-center items-center border rounded border-dashed border-outline-gray-modals p-3"},rt={class:"text-sm text-ink-gray-4"},it={class:"mt-5.5"},ct={__name:"SidePanelLayoutEditor",props:{sections:Object,doctype:String},setup(d){const k=d,p=["Table","Table MultiSelect","Geolocation","Attach","Attach Image","HTML","Signature"],x=ue(()=>({doctype:k.doctype,restricted_fieldtypes:p,as_array:!0})),h=pe({url:"crm.api.doc.get_fields_meta",params:x.value,cache:["fieldsMeta",k.doctype],auto:!0});function L(C,f){f&&C.columns[0].fields.push(f)}return me(()=>k.doctype,()=>h.fetch(x.value),{immediate:!0}),(C,f)=>{const b=P("FeatherIcon"),g=P("Button");return o(),c("div",null,[s(a(te),{list:d.sections,"item-key":"name",class:"flex flex-col gap-5.5"},{item:i(({element:t})=>{var B;return[r("div",Qe,[r("div",We,[r("div",{class:"flex max-w-fit cursor-pointer items-center gap-2 text-base leading-4 text-ink-gray-9",onClick:m=>t.opened=!t.opened},[s(b,{name:"chevron-right",class:ve(["h-4 transition-all duration-300 ease-in-out",{"rotate-90":t.opened}])},null,8,["class"]),t.editingLabel?(o(),c("div",et,[s(a(fe),{modelValue:t.label,"onUpdate:modelValue":m=>t.label=m,onKeydown:de(m=>t.editingLabel=!1,["enter"]),onBlur:m=>t.editingLabel=!1,onClick:f[0]||(f[0]=$(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","onKeydown","onBlur"]),t.editingLabel?(o(),u(g,{key:0,icon:"check",class:"!size-4 rounded-sm",variant:"ghost",onClick:$(m=>t.editingLabel=!1,["stop"])},null,8,["onClick"])):v("",!0)])):(o(),c("div",Ye,S(C.__(t.label)||C.__("Untitled")),1))],8,Xe),r("div",tt,[t.editingLabel?v("",!0):(o(),u(g,{key:0,class:"!size-4 rounded-sm",variant:"ghost",onClick:m=>t.editingLabel=!0},{icon:i(()=>[s(R,{class:"h-3.5"})]),_:2},1032,["onClick"])),t.editable!==!1?(o(),u(g,{key:1,class:"!size-4 rounded-sm",icon:"x",variant:"ghost",onClick:m=>d.sections.splice(d.sections.indexOf(t),1)},null,8,["onClick"])):v("",!0)])]),H(r("div",null,[s(a(te),{list:((B=t.columns)==null?void 0:B[0].fields)||[],group:"fields","item-key":"fieldname",class:"flex flex-col gap-1.5",handle:".cursor-grab"},{item:i(({element:m})=>[r("div",at,[r("div",ot,[s(Me,{class:"h-3.5 cursor-grab"}),r("div",null,S(m.label),1)]),s(g,{variant:"ghost",icon:"x",class:"!size-4 rounded-sm",onClick:w=>t.columns[0].fields.splice(t.columns[0].fields.indexOf(m),1)},null,8,["onClick"])])]),_:2},1032,["list"]),a(h).data&&t.editable!==!1?(o(),u(Ne,{key:0,value:"",options:a(h).data,onChange:m=>L(t,m)},{target:i(({togglePopover:m})=>[s(g,{class:"w-full h-8 mt-1.5 !bg-surface-gray-1",variant:"outline",onClick:w=>m(),label:C.__("Add Field")},{prefix:i(()=>[s(b,{name:"plus",class:"h-4"})]),_:2},1032,["onClick","label"])]),"item-label":i(({option:m})=>[r("div",lt,[r("div",null,S(m.label),1),r("div",nt,S(`${m.fieldname} - ${m.fieldtype}`),1)])]),_:2},1032,["options","onChange"])):(o(),c("div",st,[r("div",rt,S(C.__("This section is not editable")),1)]))],512),[[Q,t.opened]])])]}),_:1},8,["list"]),r("div",it,[s(g,{class:"w-full h-8",variant:"subtle",label:C.__("Add Section"),onClick:f[1]||(f[1]=t=>d.sections.push({label:C.__("New Section"),opened:!0,name:"section_"+a(oe)(),columns:[{name:"column_"+a(oe)(),fields:[]}]}))},{prefix:i(()=>[s(b,{name:"plus",class:"h-4"})]),_:1},8,["label"])])])}}},dt={class:"flex items-center gap-2 text-2xl font-semibold leading-6 text-ink-gray-9"},ut={class:"flex flex-col gap-5.5"},pt={class:"flex justify-between gap-2"},mt={class:"flex flex-row-reverse gap-2"},yt={key:0,class:"flex gap-4"},_t={key:0,class:"flex flex-1 flex-col border rounded"},vt={key:0,class:"flex h-16 items-center justify-center text-base text-ink-gray-5"},ft={key:1,class:"flex flex-1 justify-center items-center text-ink-gray-5 bg-surface-gray-2 rounded"},gt={__name:"SidePanelModal",props:W({doctype:{type:String,default:"CRM Lead"}},{modelValue:{},modelModifiers:{}}),emits:W(["reload"],["update:modelValue"]),setup(d,{emit:k}){const p=d,x=k,h=ge(d,"modelValue"),L=M(p.doctype),C=M(!1),f=M(!1),b=M(!1);M({});function g(){return{doctype:L.value,type:"Side Panel"}}const t=pe({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["SidePanel",L.value],params:g(),onSuccess(w){t.originalData=JSON.parse(JSON.stringify(w))}});me(()=>t==null?void 0:t.data,()=>{f.value=JSON.stringify(t==null?void 0:t.data)!==JSON.stringify(t==null?void 0:t.originalData)},{deep:!0}),ce(()=>he(B,100)());function B(){Z(()=>{t.params=g(),t.reload()})}function m(){let w=JSON.parse(JSON.stringify(t.data));w.forEach(_=>{_.sections.forEach(N=>{N.columns&&N.columns.forEach(I=>{I.fields&&(I.fields=I.fields.map(j=>j.fieldname).filter(Boolean))})})}),C.value=!0,xe("crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.save_fields_layout",{doctype:L.value,type:"Side Panel",layout:JSON.stringify(w[0].sections)}).then(()=>{C.value=!1,h.value=!1,Ce("side_panel_layout_builder",{doctype:L.value}),x("reload")})}return(w,_)=>{const N=P("Button");return o(),u(a(ke),{modelValue:h.value,"onUpdate:modelValue":_[1]||(_[1]=I=>h.value=I),options:{size:"3xl"}},{"body-title":i(()=>[r("h3",dt,[r("div",null,S(w.__("Edit Field Layout")),1),f.value?(o(),u(a(be),{key:0,label:w.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):v("",!0)])]),"body-content":i(()=>{var I,j;return[r("div",ut,[r("div",pt,[s(N,{label:b.value?w.__("Hide preview"):w.__("Show preview"),onClick:_[0]||(_[0]=l=>b.value=!b.value)},null,8,["label"]),r("div",mt,[s(N,{loading:C.value,label:w.__("Save"),variant:"solid",onClick:m},null,8,["loading","label"]),s(N,{label:w.__("Reset"),onClick:B},null,8,["label"])])]),(j=(I=a(t).data)==null?void 0:I[0])!=null&&j.sections?(o(),c("div",yt,[s(ct,{class:"flex flex-1 flex-col pr-2",sections:a(t).data[0].sections,doctype:L.value},null,8,["sections","doctype"]),b.value?(o(),c("div",_t,[s(Rt,{sections:a(t).data[0].sections,doctype:L.value,docname:"",preview:!0},{default:i(({section:l})=>[l.name=="contacts_section"?(o(),c("div",vt,S(w.__("No contacts added")),1)):v("",!0)]),_:1},8,["sections","doctype"])])):(o(),c("div",ft,S(w.__("Toggle on for preview")),1))])):v("",!0)])]}),_:1},8,["modelValue"])}}};const ht={key:0,class:"sections flex flex-col overflow-y-auto"},bt={key:0,class:"section flex flex-col"},kt={key:0,class:"w-full section-border h-px border-t"},xt={class:"p-1 sm:p-3"},Ct={key:0,class:"field flex items-center gap-2 px-3 leading-5 first:mt-3"},wt={class:"w-[35%] min-w-20 shrink-0 flex items-center gap-0.5"},$t={class:"truncate text-sm text-ink-gray-5"},St={key:0,class:"text-ink-red-2"},Vt={class:"flex items-center justify-between w-[65%]"},Lt={class:"grid min-h-[28px] flex-1 items-center overflow-hidden text-base"},Bt={key:0,class:"flex h-7 cursor-pointer items-center px-2 py-1 text-ink-gray-5"},Ft={key:1},It={key:0,class:"truncate"},Dt={key:1,class:"text-base leading-5 text-ink-gray-4 truncate"},Mt={class:"my-2 p-1.5 min-w-40 space-y-1.5 divide-y divide-outline-gray-1 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none"},Nt={key:1},Ot={class:"p-1.5 px-7 text-base text-ink-gray-4"},Pt={class:"pt-1.5"},jt={class:"cursor-pointer"},Ut={key:7,class:"form-control"},zt={key:8,class:"form-control"},Et={class:"ml-1"},Tt={__name:"SidePanelLayout",props:{sections:{type:Object},doctype:{type:String,default:"CRM Lead",required:!0},docname:{type:String,required:!0},preview:{type:Boolean,default:!1},addContact:{type:Function}},emits:["afterFieldChange","reload"],setup(d,{emit:k}){const p=d,x=k,{getFormattedPercent:h,getFormattedFloat:L,getFormattedCurrency:C}=ze(p.doctype),{isManager:f,getUser:b}=Ee(),g=M(!1);let t={doc:{}},B;if(p.docname){let l=$e(p.doctype,p.docname);t=l.document,B=l.triggerOnChange}const m=ue(()=>{var y;if(!((y=p.sections)!=null&&y.length))return[];let l=!1;return p.sections.map(V=>{var D;(D=V.columns)!=null&&D.length&&(V.columns[0].fields=V.columns[0].fields.map(E=>w(E)));let O=N(V,l);return O.showEditButton&&(l=!0),O})});function w(l){l.fieldtype=="Select"&&typeof l.options=="string"&&(l.options=l.options.split(`
`).map(V=>({label:V,value:V})),l.options[0].value!==""&&l.options.unshift({label:"",value:""})),l.fieldtype==="Link"&&l.options==="User"&&(l.options=l.options,l.fieldtype="User");let y={...l,filters:l.link_filters&&JSON.parse(l.link_filters),placeholder:l.placeholder||l.label,display_via_depends_on:le(l.depends_on,t.doc),mandatory_via_depends_on:le(l.mandatory_depends_on,t.doc)};return y.visible=I(y),y}async function _(l,y){p.preview||(await B(y.fieldname,l),t.save.submit(null,{onSuccess:()=>{x("afterFieldChange",{[y.fieldname]:l})}}))}function N(l,y){var O;let V=l.name=="contacts_section";return l.showEditButton=!(Oe.value||!f()||V||y),l.visible=V||((O=l.columns)==null?void 0:O[0].fields.filter(D=>D.visible).length),l}function I(l){var y;return p.preview?!0:(l.fieldtype=="Check"||l.read_only&&((y=t.doc)==null?void 0:y[l.fieldname])||!l.read_only)&&(!l.depends_on||l.display_via_depends_on)&&!l.hidden}function j(){return m.value.findIndex(l=>l.visible)}return(l,y)=>{var E;const V=P("Button"),O=P("FeatherIcon"),D=P("FormControl");return o(),c(U,null,[(E=a(t).get)!=null&&E.loading?v("",!0):(o(),c("div",ht,[(o(!0),c(U,null,K(m.value,(F,ye)=>(o(),c(U,{key:F.name},[F.visible?(o(),c("div",bt,[ye!==j()?(o(),c("div",kt)):v("",!0),r("div",xt,[s(Ve,{labelClass:"px-2 font-semibold",headerClass:"h-8",label:F.label,hideLabel:!F.label,opened:F.opened},X({default:i(()=>[Y(l.$slots,"default",ee({ref_for:!0},{section:F}),()=>{var A;return[(A=F.columns)!=null&&A[0].fields.length?(o(),u(Le,{key:0,class:"column flex flex-col gap-1.5 overflow-y-auto"},{default:i(()=>[(o(!0),c(U,null,K(F.columns[0].fields||[],e=>(o(),c(U,{key:e.fieldname},[e.visible?(o(),c("div",Ct,[s(a(z),{text:l.__(e.label),hoverDelay:1},{default:i(()=>[r("div",wt,[r("div",$t,S(l.__(e.label)),1),e.reqd||e.mandatory_depends_on&&e.mandatory_via_depends_on?(o(),c("div",St," * ")):v("",!0)])]),_:2},1032,["text"]),r("div",Vt,[r("div",Lt,[e.read_only&&!["Int","Float","Currency","Percent","Check","Dropdown"].includes(e.fieldtype)?(o(),c("div",Bt,[s(a(z),{text:l.__(e.tooltip)},{default:i(()=>[r("div",null,S(a(t).doc[e.fieldname]),1)]),_:2},1032,["text"])])):e.fieldtype==="Dropdown"?(o(),c("div",Ft,[s(Be,null,{target:i(({open:n})=>[s(V,{label:a(t).doc[e.fieldname],class:"dropdown-button flex w-full items-center justify-between rounded border border-gray-100 bg-surface-gray-2 px-2 py-1.5 text-base text-ink-gray-8 placeholder-ink-gray-4 transition-colors hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:border-outline-gray-4 focus:bg-surface-white focus:shadow-sm focus:outline-none focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3"},{suffix:i(()=>[s(O,{name:n?"chevron-up":"chevron-down",class:"h-4 text-ink-gray-5"},null,8,["name"])]),default:i(()=>[a(t).doc[e.fieldname]?(o(),c("div",It,S(a(t).doc[e.fieldname]),1)):(o(),c("div",Dt,S(e.placeholder),1))]),_:2},1032,["label"])]),body:i(()=>{var n;return[r("div",Mt,[r("div",null,[(n=e.options)!=null&&n.length?(o(!0),c(U,{key:0},K(e.options,J=>(o(),u(He,{key:J.name,option:J},null,8,["option"]))),128)):(o(),c("div",Nt,[r("div",Ot,S(l.__("No {0} Available",[e.label])),1)]))]),r("div",Pt,[s(V,{variant:"ghost",class:"w-full !justify-start",label:l.__("Create New"),onClick:J=>e.create()},{prefix:i(()=>[s(O,{name:"plus",class:"h-4"})]),_:2},1032,["label","onClick"])])])]}),_:2},1024)])):e.fieldtype=="Check"?(o(),u(D,{key:2,class:"form-control",type:"checkbox",modelValue:a(t).doc[e.fieldname],"onUpdate:modelValue":n=>a(t).doc[e.fieldname]=n,onChange:$(n=>_(n.target.checked,e),["stop"]),disabled:!!e.read_only},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])):["Small Text","Text","Long Text","Code"].includes(e.fieldtype)?(o(),u(D,{key:3,class:"form-control",type:"textarea",value:a(t).doc[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:$(n=>_(n.target.value,e),["stop"])},null,8,["value","placeholder","onChange"])):e.fieldtype==="Select"?(o(),u(D,{key:4,class:"form-control cursor-pointer [&_select]:cursor-pointer truncate",type:"select",modelValue:a(t).doc[e.fieldname],"onUpdate:modelValue":n=>a(t).doc[e.fieldname]=n,options:e.options,placeholder:e.placeholder,onChange:$(n=>_(n.target.value,e),["stop"])},null,8,["modelValue","onUpdate:modelValue","options","placeholder","onChange"])):e.fieldtype==="User"?(o(),u(ae,{key:5,class:"form-control",value:a(t).doc[e.fieldname]&&a(b)(a(t).doc[e.fieldname]).full_name,doctype:"User",filters:e.filters,onChange:n=>_(n,e),placeholder:"Select "+e.label+"...",hideMe:!0},X({"item-prefix":i(({option:n})=>[s(ne,{class:"mr-1.5",user:n.value,size:"sm"},null,8,["user"])]),"item-label":i(({option:n})=>[s(a(z),{text:n.value},{default:i(()=>[r("div",jt,S(a(b)(n.value).full_name),1)]),_:2},1032,["text"])]),_:2},[a(t).doc[e.fieldname]?{name:"prefix",fn:i(()=>[s(ne,{class:"mr-1.5",user:a(t).doc[e.fieldname],size:"sm"},null,8,["user"])]),key:"0"}:void 0]),1032,["value","filters","onChange","placeholder"])):["Link","Dynamic Link"].includes(e.fieldtype)?(o(),u(ae,{key:6,class:"form-control select-text",value:a(t).doc[e.fieldname],doctype:e.fieldtype=="Link"?e.options:a(t).doc[e.options],filters:e.filters,placeholder:e.placeholder,onChange:n=>_(n,e),onCreate:e.create},null,8,["value","doctype","filters","placeholder","onChange","onCreate"])):e.fieldtype==="Datetime"?(o(),c("div",Ut,[s(a(Pe),{"icon-left":"",value:a(t).doc[e.fieldname],formatter:n=>a(se)(n,"",!0,!0),placeholder:e.placeholder,placement:"left-start",hideIcon:!0,onChange:n=>_(n,e)},null,8,["value","formatter","placeholder","onChange"])])):e.fieldtype==="Date"?(o(),c("div",zt,[s(a(je),{"icon-left":"",value:a(t).doc[e.fieldname],formatter:n=>a(se)(n,"",!0),placeholder:e.placeholder,placement:"left-start",hideIcon:!0,onChange:n=>_(n,e)},null,8,["value","formatter","placeholder","onChange"])])):e.fieldtype==="Percent"?(o(),u(T,{key:9,class:"form-control",type:"text",value:a(h)(e.fieldname,a(t).doc),placeholder:e.placeholder,debounce:500,onChange:$(n=>_(a(G)(n.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Password"?(o(),u(Se,{key:10,class:"form-control",value:a(t).doc[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:$(n=>_(n.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Int"?(o(),u(T,{key:11,class:"form-control",type:"text",value:a(t).doc[e.fieldname]||"0",placeholder:e.placeholder,debounce:500,onChange:$(n=>_(n.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Float"?(o(),u(T,{key:12,class:"form-control",type:"text",value:a(L)(e.fieldname,a(t).doc),placeholder:e.placeholder,debounce:500,onChange:$(n=>_(a(G)(n.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Currency"?(o(),u(T,{key:13,class:"form-control",type:"text",value:a(C)(e.fieldname,a(t).doc),placeholder:e.placeholder,debounce:500,onChange:$(n=>_(a(G)(n.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):(o(),u(D,{key:14,class:"form-control",type:"text",value:a(t).doc[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:$(n=>_(n.target.value,e),["stop"])},null,8,["value","placeholder","onChange"]))]),r("div",Et,[e.fieldtype==="Link"&&e.link&&a(t).doc[e.fieldname]?(o(),u(Ue,{key:0,class:"h-4 w-4 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:$(n=>e.link(a(t).doc[e.fieldname]),["stop"])},null,8,["onClick"])):v("",!0),e.fieldtype==="Link"&&e.edit&&a(t).doc[e.fieldname]?(o(),u(R,{key:1,class:"size-3.5 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:$(n=>e.edit(a(t).doc[e.fieldname]),["stop"])},null,8,["onClick"])):v("",!0)])])])):v("",!0)],64))),128))]),_:2},1024)):v("",!0)]},!0)]),_:2},[d.preview?void 0:{name:"actions",fn:i(()=>[Y(l.$slots,"actions",ee({ref_for:!0},{section:F}),()=>[F.showEditButton?(o(),u(V,{key:0,variant:"ghost",class:"w-7 mr-2",onClick:y[0]||(y[0]=A=>g.value=!0)},{icon:i(()=>[s(R)]),_:1})):v("",!0)],!0)]),key:"0"}]),1032,["label","hideLabel","opened"])])])):v("",!0)],64))),128))])),g.value?(o(),u(gt,{key:1,modelValue:g.value,"onUpdate:modelValue":y[1]||(y[1]=F=>g.value=F),doctype:d.doctype,onReload:y[2]||(y[2]=()=>x("reload"))},null,8,["modelValue","doctype"])):v("",!0)],64)}}},Rt=ie(Tt,[["__scopeId","data-v-adcd8066"]]),{getView:At}=we();function re(d){return{list:{label:__("List"),icon:q(Fe)},group_by:{label:__("Group By"),icon:q(Ie)},kanban:{label:__("Kanban"),icon:q(De)}}[d]}function Qt(d,k,p){let x=k||"list",h=At(d,x,p);return h&&!h.icon&&(h.icon=re(x).icon),h||re(x)}export{Rt as S,Je as a,Qt as g};
//# sourceMappingURL=view-4ccef3d8.js.map
