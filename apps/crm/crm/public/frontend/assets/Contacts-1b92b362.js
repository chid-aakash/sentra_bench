import{_ as S,a as I}from"./ViewControls-0243c1de.js";import{_ as j}from"./CustomActions-cc223af8.js";import{C as E}from"./ContactsIcon-4e391f66.js";import{_ as T}from"./LayoutHeader-bf851e4e.js";import{C as O}from"./ContactModal-44664e22.js";import{_ as R}from"./ContactsListView-49d01938.js";import{b as W,f as x,t as q}from"./index-1be1092b.js";import{o as G}from"./organizations-a3c87877.js";import{l as r,j as H,c as D,b as u,w as f,g as k,d as P,t as J,p as V,F as K,e as $,f as p}from"./index-77a1adb3.js";import"./FadedScrollableDiv-3bd2f113.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-20f66514.js";import"./IconPicker-32bf6d73.js";import"./Popover-23375de3.js";import"./DragVerticalIcon-56a1fcba.js";import"./PinIcon-9a9cf1df.js";import"./DetailsIcon-5fbd1b96.js";import"./settings-efea4d57.js";import"./FieldLayout-9051362d.js";import"./modals-6b779b18.js";import"./IndicatorIcon-81343f13.js";import"./ListRows-f93bf621.js";import"./AssignmentModal-615be241.js";import"./PhoneIcon-cf282ece.js";import"./ListFooter-88c0e00f.js";import"./label-ea862e17.js";const Q={key:1,class:"flex h-full items-center justify-center"},X={class:"flex flex-col items-center gap-3 text-xl font-medium text-ink-gray-4"},be={__name:"Contacts",setup(Y){const{getFormattedPercent:A,getFormattedFloat:B,getFormattedCurrency:N}=W("Contact"),{getOrganization:c}=G(),m=r(!1),v=r(null),l=r({}),g=r(1),C=r(1),y=r(20),s=r(null),F=H(()=>{var i,t,d;return!((t=(i=l.value)==null?void 0:i.data)!=null&&t.data)||!["list","group_by"].includes(l.value.data.view_type)?[]:(d=l.value)==null?void 0:d.data.data.map(o=>{var _;let e={};return(_=l.value)==null||_.data.rows.forEach(a=>{var b,U,z,L;e[a]=o[a];let n=(z=(U=(b=l.value)==null?void 0:b.data.columns)==null?void 0:U.find(M=>(M.key||M.value)==a))==null?void 0:z.type;n&&["Date","Datetime"].includes(n)&&!["modified","creation"].includes(a)&&(e[a]=x(o[a],"",!0,n=="Datetime")),n&&n=="Currency"&&(e[a]=N(a,o)),n&&n=="Float"&&(e[a]=B(a,o)),n&&n=="Percent"&&(e[a]=A(a,o)),a=="full_name"?e[a]={label:o.full_name,image_label:o.full_name,image:o.image}:a=="company_name"?e[a]={label:o.company_name,logo:(L=c(o.company_name))==null?void 0:L.organization_logo}:["modified","creation"].includes(a)&&(e[a]={label:x(o[a]),timeAgo:__(q(o[a]))})}),e})});return(i,t)=>{const d=$("FeatherIcon"),o=$("Button");return p(),D(K,null,[u(T,null,{"left-header":f(()=>[u(I,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),routeName:"Contacts"},null,8,["modelValue"])]),"right-header":f(()=>{var e;return[(e=v.value)!=null&&e.customListActions?(p(),k(j,{key:0,actions:v.value.customListActions},null,8,["actions"])):V("",!0),u(o,{variant:"solid",label:i.__("Create"),onClick:t[1]||(t[1]=_=>m.value=!0)},{prefix:f(()=>[u(d,{name:"plus",class:"h-4"})]),_:1},8,["label"])]}),_:1}),u(S,{ref_key:"viewControls",ref:s,modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=e=>l.value=e),loadMore:g.value,"onUpdate:loadMore":t[3]||(t[3]=e=>g.value=e),resizeColumn:C.value,"onUpdate:resizeColumn":t[4]||(t[4]=e=>C.value=e),updatedPageCount:y.value,"onUpdate:updatedPageCount":t[5]||(t[5]=e=>y.value=e),doctype:"Contact"},null,8,["modelValue","loadMore","resizeColumn","updatedPageCount"]),l.value.data&&F.value.length?(p(),k(R,{key:0,ref_key:"contactsListView",ref:v,modelValue:l.value.data.page_length_count,"onUpdate:modelValue":t[6]||(t[6]=e=>l.value.data.page_length_count=e),list:l.value,"onUpdate:list":t[7]||(t[7]=e=>l.value=e),rows:F.value,columns:l.value.data.columns,options:{showTooltip:!1,resizeColumn:!0,rowCount:l.value.data.row_count,totalCount:l.value.data.total_count},onLoadMore:t[8]||(t[8]=()=>g.value++),onColumnWidthUpdated:t[9]||(t[9]=()=>C.value++),onUpdatePageCount:t[10]||(t[10]=e=>y.value=e),onApplyFilter:t[11]||(t[11]=e=>s.value.applyFilter(e)),onApplyLikeFilter:t[12]||(t[12]=e=>s.value.applyLikeFilter(e)),onLikeDoc:t[13]||(t[13]=e=>s.value.likeDoc(e)),onSelectionsChanged:t[14]||(t[14]=e=>s.value.updateSelections(e))},null,8,["modelValue","list","rows","columns","options"])):l.value.data?(p(),D("div",Q,[P("div",X,[u(E,{class:"h-10 w-10"}),P("span",null,J(i.__("No {0} Found",[i.__("Contacts")])),1),u(o,{label:i.__("Create"),onClick:t[15]||(t[15]=e=>m.value=!0)},{prefix:f(()=>[u(d,{name:"plus",class:"h-4"})]),_:1},8,["label"])])])):V("",!0),m.value?(p(),k(O,{key:2,modelValue:m.value,"onUpdate:modelValue":t[16]||(t[16]=e=>m.value=e),contact:{}},null,8,["modelValue"])):V("",!0)],64)}}};export{be as default};
//# sourceMappingURL=Contacts-1b92b362.js.map
